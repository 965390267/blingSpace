{"version":3,"file":"vue.js","sources":["../../src/observer/index.js","../../src/state.js","../../src/init.js","../../src/index.js"],"sourcesContent":["class Observer {\n    constructor(value){\n       \n        this.walk(value);\n    }\n    walk(data){\n        let keys = Object.keys(data);\n        keys.forEach(key=>{\n            defineReactuve(data,key,data[key]);\n        })\n    }\n}\n\nfunction defineReactuve(data,key,value){\n    Object.defineProperty(data,key,{\n        get(){\n            console.log('用户取值');\n            return value\n        },\n        set(newValue){\n            console.log('用户赋值');\n            if(value === newValue){\n                value = newValue\n            }\n        }\n    }\n    )\n\n\n}\n\nexport function observe(data){\n    console.log(data);\n    if(typeof data !== 'object' && data !== null){\n        return;\n    }\n    return new Observer(data);\n}","import { observe } from \"./observer/index\";\n\nexport function initState(vm){\n    let opts = vm.$options;\n    let {methods,data,props,computed,watch} = opts;\n    if(methods){\n        initMethod(vm)\n    }\n    if(data){\n        initData(vm)\n    }\n    if(props){\n        initProps(vm)\n    }\n    if(computed){\n        initComputed(vm)\n    }\n    if(watch){\n        initWatch(vm)\n    }\n\n}\nfunction initMethod(vm) {\n    \n}\nfunction initData(vm) {\n    let data = vm.$options.data;\n    vm._data = data = typeof data == 'function' ? data.call(vm) : data;\n    observe(data);\n}\nfunction initProps(vm) {\n    \n}\nfunction initComputed(vm) {\n    \n}\nfunction initWatch(vm) {\n    \n}","import { initState } from \"./state\";\n\nexport function initMixin(Vue) {\n    Vue.prototype._init = function (options) {\n        const vm = this;\n        vm.$options = options;\n\n        // 初始化数据\n        initState(vm)\n    }\n}","import {initMixin} from './init';\n\nfunction Vue(options){\n    console.log(options);\n    this._init(options);\n}\ninitMixin(Vue);\n\n\nexport default Vue;"],"names":["Observer","value","walk","data","keys","Object","forEach","key","defineReactuve","defineProperty","get","console","log","set","newValue","observe","initState","vm","opts","$options","methods","props","computed","watch","initData","_data","call","initMixin","Vue","prototype","_init","options"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAAMA;EACF,oBAAYC,KAAZ,EAAkB;EAAA;;EAEd,SAAKC,IAAL,CAAUD,KAAV;EACH;;;;2BACIE,MAAK;EACN,UAAIC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYD,IAAZ,CAAX;EACAC,MAAAA,IAAI,CAACE,OAAL,CAAa,UAAAC,GAAG,EAAE;EACdC,QAAAA,cAAc,CAACL,IAAD,EAAMI,GAAN,EAAUJ,IAAI,CAACI,GAAD,CAAd,CAAd;EACH,OAFD;EAGH;;;;;;EAGL,SAASC,cAAT,CAAwBL,IAAxB,EAA6BI,GAA7B,EAAiCN,KAAjC,EAAuC;EACnCI,EAAAA,MAAM,CAACI,cAAP,CAAsBN,IAAtB,EAA2BI,GAA3B,EAA+B;EAC3BG,IAAAA,GAD2B,iBACtB;EACDC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;EACA,aAAOX,KAAP;EACH,KAJ0B;EAK3BY,IAAAA,GAL2B,eAKvBC,QALuB,EAKd;EACTH,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;;EACA,UAAGX,KAAK,KAAKa,QAAb,EAAsB;EAClBb,QAAAA,KAAK,GAAGa,QAAR;EACH;EACJ;EAV0B,GAA/B;EAeH;;EAEM,SAASC,OAAT,CAAiBZ,IAAjB,EAAsB;EACzBQ,EAAAA,OAAO,CAACC,GAAR,CAAYT,IAAZ;;EACA,MAAG,QAAOA,IAAP,MAAgB,QAAhB,IAA4BA,IAAI,KAAK,IAAxC,EAA6C;EACzC;EACH;;EACD,SAAO,IAAIH,QAAJ,CAAaG,IAAb,CAAP;EACH;;ECnCM,SAASa,SAAT,CAAmBC,EAAnB,EAAsB;EACzB,MAAIC,IAAI,GAAGD,EAAE,CAACE,QAAd;EADyB,MAEpBC,OAFoB,GAEiBF,IAFjB,CAEpBE,OAFoB;EAAA,MAEZjB,IAFY,GAEiBe,IAFjB,CAEZf,IAFY;EAAA,MAEPkB,KAFO,GAEiBH,IAFjB,CAEPG,KAFO;EAAA,MAEDC,QAFC,GAEiBJ,IAFjB,CAEDI,QAFC;EAAA,MAEQC,KAFR,GAEiBL,IAFjB,CAEQK,KAFR;;EAMzB,MAAGpB,IAAH,EAAQ;EACJqB,IAAAA,QAAQ,CAACP,EAAD,CAAR;EACH;EAWJ;;EAID,SAASO,QAAT,CAAkBP,EAAlB,EAAsB;EAClB,MAAId,IAAI,GAAGc,EAAE,CAACE,QAAH,CAAYhB,IAAvB;EACAc,EAAAA,EAAE,CAACQ,KAAH,GAAWtB,IAAI,GAAG,OAAOA,IAAP,IAAe,UAAf,GAA4BA,IAAI,CAACuB,IAAL,CAAUT,EAAV,CAA5B,GAA4Cd,IAA9D;EACAY,EAAAA,OAAO,CAACZ,IAAD,CAAP;EACH;;EC3BM,SAASwB,SAAT,CAAmBC,GAAnB,EAAwB;EAC3BA,EAAAA,GAAG,CAACC,SAAJ,CAAcC,KAAd,GAAsB,UAAUC,OAAV,EAAmB;EACrC,QAAMd,EAAE,GAAG,IAAX;EACAA,IAAAA,EAAE,CAACE,QAAH,GAAcY,OAAd,CAFqC;;EAKrCf,IAAAA,SAAS,CAACC,EAAD,CAAT;EACH,GAND;EAOH;;ECRD,SAASW,GAAT,CAAaG,OAAb,EAAqB;EACjBpB,EAAAA,OAAO,CAACC,GAAR,CAAYmB,OAAZ;;EACA,OAAKD,KAAL,CAAWC,OAAX;EACH;;EACDJ,SAAS,CAACC,GAAD,CAAT;;;;;;;;"}